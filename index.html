<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1 user-scalable=0">
    <title>Password Generator</title>
  
<!--
------------------------------------------------------------------------------------
░██████╗████████╗██╗░░░██╗██╗░░░░░███████╗░██████╗░░░░██╗░█████╗░░██████╗░██████╗░░░
██╔════╝╚══██╔══╝╚██╗░██╔╝██║░░░░░██╔════╝██╔════╝░░░██╔╝██╔══██╗██╔════╝██╔════╝░░░
╚█████╗░░░░██║░░░░╚████╔╝░██║░░░░░█████╗░░╚█████╗░░░██╔╝░██║░░╚═╝╚█████╗░╚█████╗░░░░
░╚═══██╗░░░██║░░░░░╚██╔╝░░██║░░░░░██╔══╝░░░╚═══██╗░██╔╝░░██║░░██╗░╚═══██╗░╚═══██╗░░░
██████╔╝░░░██║░░░░░░██║░░░███████╗███████╗██████╔╝██╔╝░░░╚█████╔╝██████╔╝██████╔╝██╗
╚═════╝░░░░╚═╝░░░░░░╚═╝░░░╚══════╝╚══════╝╚═════╝░╚═╝░░░░░╚════╝░╚═════╝░╚═════╝░╚═╝
-->
  <style type="text/css">
    body {
      background-color: #f06d06;
      color: black;
      margin: 0;
      min-height: 70vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: Arial, Helvetica, sans-serif;
      text-align: center;
    }

    .container {
      position: relative; 
      margin-top: 0.51rem;
      margin-bottom: 4.6rem;
      background-color: white;
      padding: 2rem;
      border-radius: 0rem;
      border: 2px solid black;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      padding-top: 1rem;
      padding-left: 1rem;
      padding-bottom: 2rem;
    }

    .form {
      display: grid;
      grid-template-columns: auto auto;
      row-gap: 1rem;
      column-gap: 2rem;
      justify-content: center;
      align-items: center;
    }

    label {
      font-weight: bold;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -o-user-select: none;
       user-select: none;  
    }

    .character-amount-container {
      display: flex;
      align-items: center;    
    }

    .number-box {
      cursor: text;
      width: 2.2rem;
      font-size: 16px;
      font-size: 100%;
      transform: scale(0.90);
      transform-origin: left top;
      margin: 3px;
    }

    .password-display {
      background-color: white;
      color: black;
      margin-left: -2rem;
      padding: 1rem;
      padding-top: .3rem;
      border: 1px solid black;
      border-radius: .5rem;
      height: 5rem;
      line-height: 1.4rem;
      width: 240px;
      display: absolute;
      justify-content: center;
      align-items: top;
      word-break: break-all;
      cursor: pointer;
      overflow: hidden;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -o-user-select: none;
      user-select: none;
      transition: all 0.2s;
      transition-delay: 200ms;
    }
        
    .copyButton {
      filter: invert(34%) sepia(62%) saturate(5109%) hue-rotate(203deg) brightness(102%) contrast(108%);
      isolation: isolate;
      cursor: pointer;
      display: flex;
      position: absolute;
      left: 85%;
      top: 24%;
      height: 1.6rem;
      width: 1.6rem;
      margin-top: 0rem;
      margin-left: 0rem;
      border-radius: 0.4rem;
      transition: all 0.2s;
      transition-delay: 200ms;
    }
    
    .refreshButton {
      filter: invert(34%) sepia(62%) saturate(5109%) hue-rotate(203deg) brightness(102%) contrast(108%);
      cursor: pointer;
      left: 85%;
      top: 12%;
      position: absolute;
      height: 1.6rem;
      width: 1.6rem;
      margin-top: 0rem;
      margin-left: 0rem;
      border-radius: 0.4rem;
    }
    
    @media (hover: hover){
    .copyButton:hover {
      filter: invert(23%) sepia(82%) saturate(2645%) hue-rotate(202deg) brightness(85%) contrast(102%);
      }
    }
    
    @media (hover: none){
    .copyButton:hover { 
      color: inherit; 
      }
    }
    
    .password-display:active + .copyButton {
      filter: invert(40%) sepia(94%) saturate(801%) hue-rotate(121deg) brightness(96%) contrast(97%);
      transition: none;
    }
    
    @media (hover: hover){
     .password-display:hover {
      background-color: #d6cefd40;
      }
    }

    @media (hover: none){
    .password-display:hover { 
      color: inherit; 
      }
    }
    
    .copyButton:active {
      filter: invert(40%) sepia(94%) saturate(801%) hue-rotate(121deg) brightness(96%) contrast(97%);
      transition: none;
    }
    
    @media (hover: hover){
    .refreshButton:hover {
      filter: invert(23%) sepia(82%) saturate(2645%) hue-rotate(202deg) brightness(85%) contrast(102%); 
      }
    }
  
    @media (hover: none){
    .refreshButton:hover { 
      color: inherit; 
      }
    }
    
    .refreshButton:active {
      filter: invert(92%) sepia(100%) saturate(3727%) hue-rotate(354deg) brightness(109%) contrast(104%);
      transition: none;
    }

    .button {
      margin-top: .5rem;
      grid-column: span 2;
      background-color: transparent;
      border: 2px solid black;
      border-radius: .0rem;
      color: black;
      padding: .6rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
      transition-delay: 150ms;
    }
    
    @media (hover: none) {
    .button:hover { 
      color: inherit; 
      }
    }
    
     @media (hover: hover) {
    .button:hover {
      background-color: #d6cefd33;    
      }
    }
    
    .button:active {
      background-color: #04AA6D33;
      transition: none;
    }
  
    .footer {
      background-color: white;
      padding: 0.5rem;
      border-radius: 0rem;
      border: 2px solid black;
      display: row;
      position: absolute;
      left: -0.5%;
      justify-content: center;
      align-items: top;
      bottom: -4.2rem;
      font-weight: bold;
  
    }
  </style>

<!--
---------------------------------------
██╗░░██╗████████╗███╗░░░███╗██╗░░░░░░░░
██║░░██║╚══██╔══╝████╗░████║██║░░░░░░░░
███████║░░░██║░░░██╔████╔██║██║░░░░░░░░
██╔══██║░░░██║░░░██║╚██╔╝██║██║░░░░░░░░
██║░░██║░░░██║░░░██║░╚═╝░██║███████╗██╗
╚═╝░░╚═╝░░░╚═╝░░░╚═╝░░░░░╚═╝╚══════╝╚═╝
--> 
  </head>
<body onload="onLoadGeneration()">
    <div class="container">
      
      
      
      
      <div title="Copy Password." onclick="copyPassword()">
      <h3 class="password-display" id="passwordDisplay"></h3>
        
        
        <svg class="copyButton" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-plus-fill" viewBox="0 0 16 16">
        <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm4.5 6V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5a.5.5 0 0 1 1 0Z"/>   
        </svg>
      
        
       <div title="Get New Password." onclick="onLoadGeneration()">
        <svg class="refreshButton" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lightning-charge-fill" viewBox="0 0 16 16">
  <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
</svg>     
</div>
        
        
      </div>
      
           
        <form class="form" id="passwordGeneratorForm">

            <label for="characterAmountNumber">Number of Characters:</label>
            <div class="character-amount-container">
                <input type="range" min="1" max="99" value="99" id="characterAmountRange">
                <input class="number-box" type="number" min="1" max="99" value="99" id="characterAmountNumber"> 
            </div>


            <!-- Check Boxes -->
            <label for="includeUppercase">Include Uppercase:</label>
            <input type="checkbox" checked="true" id="includeUppercase" onclick="onLoadGeneration()">
            
            <label for="includeNumbers">Include Numbers:</label>
            <input type="checkbox" checked="true" id="includeNumbers" onclick="onLoadGeneration()">

            <label for="includeSymbols">Include Symbols:</label>
            <input type="checkbox" checked="true" id="includeSymbols" onclick="onLoadGeneration()">

            <button class="button" type="submit" on>Generate Password</button>
        </form>
               
      <span class="footer">
          Get a portable HTML file for offline passgen <a onclick="this.href='data:text/html;charset=UTF-8,'+encodeURIComponent(document.documentElement.outerHTML)" href="#" download="Portable Offline Passgen - by Matthew LeComte.html" title="Download the portable HTML file.">here</a>, or visit the GitHub project <a href="https://github.com/MatthewLeComte/PasswordGenerator/blob/79278162f4a77f4a4c5ed0f5daf89662fc17a6d6/index.html" target="_blank" title="Visit This Project on Matthew LeComte's Github.">here</a>.
          </span>
      </div>
  
<!--
----------------------------------------------

░██████╗░█████╗░██████╗░██╗██████╗░████████╗░░░
██╔════╝██╔══██╗██╔══██╗██║██╔══██╗╚══██╔══╝░░░
╚█████╗░██║░░╚═╝██████╔╝██║██████╔╝░░░██║░░░░░░
░╚═══██╗██║░░██╗██╔══██╗██║██╔═══╝░░░░██║░░░░░░
██████╔╝╚█████╔╝██║░░██║██║██║░░░░░░░░██║░░░██╗
╚═════╝░░╚════╝░╚═╝░░╚═╝╚═╝╚═╝░░░░░░░░╚═╝░░░╚═╝
--> 
  <script>
    const characterAmountRange = document.getElementById('characterAmountRange')
const characterAmountNumber = document.getElementById('characterAmountNumber')
const includeUppercaseElement = document.getElementById('includeUppercase')
const includeNumbersElement = document.getElementById('includeNumbers')
const includeSymbolsElement = document.getElementById('includeSymbols')
const form = document.getElementById('passwordGeneratorForm')
const passwordDisplay = document.getElementById('passwordDisplay')

const NUMBER_CHAR_CODES = arrayFromLowToHigh(48, 57)
const UPPERCASE_CHAR_CODES = arrayFromLowToHigh(65, 90)
const LOWERCASE_CHAR_CODES = arrayFromLowToHigh(97, 122)
const SYMBOL_CHAR_CODES = arrayFromLowToHigh(33, 47).concat(
    arrayFromLowToHigh(58, 64)                        
).concat(
    arrayFromLowToHigh(91, 96)
).concat(
    arrayFromLowToHigh(123, 126)
)

    
characterAmountRange.addEventListener('input', syncCharacterAmount)
characterAmountNumber.addEventListener('input', syncCharacterAmount)

function syncCharacterAmount(e) {
    const value = e.target.value
    characterAmountNumber.value = value
    characterAmountRange.value = value
} 
 
function onLoadGeneration() {
    const characterAmount = characterAmountNumber.value
    const includeUppercase = includeUppercaseElement.checked
    const includeNumbers = includeNumbersElement.checked
    const includeSymbols = includeSymbolsElement.checked
    
    const password = generatePassword(characterAmount, includeUppercase, includeNumbers, includeSymbols)
    passwordDisplay.innerText = password
}
    
    // ...............................................................Pasted Code.

function copyPassword(text) {
  var textArea = document.createElement("textarea");
  textArea.value = text;
  document.body.appendChild(textArea);
  textArea.focus();
  textArea.select();

  try {
    var successful = document.execCommand("copy");
    var msg = successful ? "successful" : "unsuccessful";
    console.log("Fallback: Copying text command was " + msg);
  } catch (err) {
    console.error("Fallback: Oops, unable to copy", err);
  }

  document.body.removeChild(textArea);
}
function copyTextToClipboard(text) {
  if (!navigator.clipboard) {
    fallbackCopyTextToClipboard(text);
    return;
  }
  navigator.clipboard.writeText(text).then(
    function() {
      console.log("Async: Copying to clipboard was successful!");
    },
    function(err) {
      console.error("Async: Could not copy text: ", err);
    }
  );
}

var copyText = document.querySelector(".password-display")

copyText.addEventListener("click", function(event) {
  copyTextToClipboard(passwordDisplay.innerText);
});
    
    // ...............................................................Pasted Code.
    
    
form.addEventListener('submit', e => {
    e.preventDefault()
    const characterAmount = characterAmountNumber.value
    const includeUppercase = includeUppercaseElement.checked
    const includeNumbers = includeNumbersElement.checked
    const includeSymbols = includeSymbolsElement.checked
    
    const password = generatePassword(characterAmount, includeUppercase, includeNumbers, includeSymbols)
    passwordDisplay.innerText = password
})

function generatePassword(characterAmount, includeUppercase, includeNumbers, includeSymbols) {
    let charCodes = LOWERCASE_CHAR_CODES
    if (includeUppercase) charCodes = charCodes.concat(UPPERCASE_CHAR_CODES)
    if (includeNumbers) charCodes = charCodes.concat(NUMBER_CHAR_CODES)
    if (includeSymbols) charCodes = charCodes.concat(SYMBOL_CHAR_CODES)
    
    const passwordCharacters = []
    for (let i = 0; i < characterAmount; i++) {
        const characterCode = charCodes[Math.floor(Math.random() * charCodes.length)]
        passwordCharacters.push(String.fromCharCode(characterCode))
    }
    return passwordCharacters.join('')
}

function arrayFromLowToHigh(low, high) {
    const array = []
    for (let i = low; i <= high; i++) {
        array.push(i)
    }
    return array
}
     
    </script>  
  
  </body>
  
</html>
